<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC
  "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="jp.co.nttf.gms.common.internal.data.gmsdb.TPowerstationMapper">
  <!-- テーブル名 -->
  <sql id="tableName">t_powerstation</sql>
  <!-- 全カラム名 -->
  <sql id="allColumns">
    powerstationid, name, judgestarttime, judgeendtime, threshold1, threshold2, threshold3, lastchecktime
  </sql>
  <!-- 発電所一覧取得 -->
  <select id="getPowerstationList" resultType="TPowerstation">
    SELECT <include refid="allColumns"/>
    FROM <include refid="tableName"/>
    ORDER BY
      powerstationid ASC
  </select>
  <!-- 最終確認時間更新 -->
  <update id="updateLastCheckTime" parameterType="Map">
    UPDATE <include refid="tableName"/>
    SET
      lastchecktime = #{executeDate}
    WHERE
      powerstationid = #{powerstationid}
  </update>
</mapper>
